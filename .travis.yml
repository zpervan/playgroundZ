language: cpp
sudo: required
dist: bionic
compiler:
  - clang
  - gcc
os:
  - linux

before install:
  - sudo apt update -qq
  - sudo apt install curl -y
  - curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -
echo "deb [arch=amd64] https://storage.googleapis.com/bazel-apt stable jdk1.8" | sudo tee /etc/apt/sources.list.d/bazel.list

install:
  - sudo apt install -y bazel

script:
  - cd CMake && mkdir build && cd build && cmake .. && cmake --build . -- -j2
  - cd ../../Bazel && bazel build //:main
  